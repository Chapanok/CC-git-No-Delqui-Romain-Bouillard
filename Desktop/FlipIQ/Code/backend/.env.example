# ============================================================
# FlipIQ Backend - Environment Variables
# ============================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to git!
# ============================================================

# ============ SERVER ============
NODE_ENV=production
PORT=5000

# URLs
FRONT_BASE_URL=https://flipiqapp.com
BACK_BASE_URL=https://api.flipiqapp.com

# ============ DATABASE ============
MONGODB_URI=mongodb+srv://user:password@cluster.mongodb.net/flipiq?retryWrites=true&w=majority

# ============ AUTHENTICATION ============
JWT_SECRET=your-super-secret-jwt-key-here

# Firebase Admin SDK (base64 encoded JSON or path to file)
GOOGLE_APPLICATION_CREDENTIALS_JSON={"type":"service_account",...}
# OR
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/firebase-service-account.json

# ============ STRIPE (REQUIRED FOR PAYMENTS) ============
# Clé secrète Stripe (sk_live_xxx ou sk_test_xxx)
STRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxxxxxxxxxxx

# Webhook signing secret (whsec_xxx) - Obtenu dans Stripe Dashboard > Webhooks
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxx

# Price IDs créés dans Stripe Dashboard > Products
STRIPE_PRICE_PRO=price_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_PREMIUM=price_xxxxxxxxxxxxxxxxxxxxx

# Clé publique (optionnel côté serveur, utilisé côté client)
# STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxxxxxxxxxxx

# ============ PAYPAL (OPTIONAL) ============
PAYPAL_ENV=live
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_SECRET=your-paypal-secret

# ============ PAYSAFECARD (OPTIONAL) ============
PAYSAFECARD_ENV=PRODUCTION
PAYSAFECARD_API_KEY=your-paysafecard-api-key
PAYSAFECARD_CURRENCY=EUR

# ============ AI SERVICES ============
# OpenAI
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxx

# Google Cloud Vision (pour scan d'images)
GOOGLE_APPLICATION_CREDENTIALS_JSON={"type":"service_account",...}

# ============ OTHER SERVICES ============
# SerpAPI (pour recherche de prix)
SERPAPI_KEY=xxxxxxxxxxxxxxxxxxxxx

# Cloudinary (pour stockage images)
CLOUDINARY_URL=cloudinary://xxx:xxx@xxx

# ============================================================
# STRIPE SETUP GUIDE
# ============================================================
# 1. Créer un compte Stripe: https://dashboard.stripe.com/register
#
# 2. Créer les Products et Prices dans Stripe Dashboard:
#    - Dashboard > Products > Add product
#    - Créer "FlipIQ Pro" avec prix 9.99 EUR (one-time)
#    - Créer "FlipIQ Premium" avec prix 19.99 EUR (one-time)
#    - Copier les Price IDs (price_xxx) dans STRIPE_PRICE_PRO et STRIPE_PRICE_PREMIUM
#
# 3. Configurer le Webhook:
#    - Dashboard > Developers > Webhooks > Add endpoint
#    - URL: https://api.flipiqapp.com/api/payments/stripe/webhook
#    - Events: checkout.session.completed
#    - Copier le Signing secret (whsec_xxx) dans STRIPE_WEBHOOK_SECRET
#
# 4. Récupérer les clés API:
#    - Dashboard > Developers > API keys
#    - Secret key -> STRIPE_SECRET_KEY
#    - Publishable key -> utilisé côté frontend
#
# 5. En local, utiliser Stripe CLI pour tester les webhooks:
#    stripe listen --forward-to localhost:5000/api/payments/stripe/webhook
# ============================================================
